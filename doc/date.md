# 日期时间处理模块 (date.js)

## 1. 模块概述

日期时间处理模块用于处理时间戳的转换和格式化，支持将时间戳转换为可读日期格式，以及将日期转换为时间戳。

## 2. 功能说明

| 功能 | 描述 |
|------|------|
| 获取当前时间戳 | 获取当前时间的毫秒级时间戳 |
| 时间戳转日期 | 将毫秒级时间戳转换为可读日期格式 |
| 日期转时间戳 | 将指定日期转换为毫秒级时间戳 |

## 3. 命令格式

```bash
daji Date [cmd] [options]
# 或
daji d [cmd] [options]
```

## 4. 选项说明

| 选项 | 缩写 | 参数 | 描述 |
|------|------|------|------|
| --Timestamp | -t | 日期字符串 | 将指定日期转换为时间戳 |

## 5. 使用示例

### 5.1 获取当前时间戳和日期

```bash
daji Date
# 或
daji d
```

执行此命令后，工具会输出当前时间的毫秒级时间戳和对应的可读日期格式。

### 5.2 将时间戳转换为日期

```bash
daji Date 1609459200000
# 或
daji d 1609459200000
```

执行此命令后，工具会将指定的时间戳转换为可读日期格式（YYYY-MM-DD HH:mm:ss）。

### 5.3 将日期转换为时间戳

```bash
daji Date --Timestamp "2021-01-01"
# 或
daji Date -t "2021-01-01"
# 或
daji d -t "2021-01-01"
```

执行此命令后，工具会将指定的日期转换为毫秒级时间戳。

### 5.4 指定时间转换为时间戳

```bash
daji Date "12:00:00" --Timestamp "2021-01-01"
# 或
daji Date "12:00:00" -t "2021-01-01"
```

执行此命令后，工具会将指定的日期和时间转换为毫秒级时间戳。

## 6. 实现原理

1. **获取当前时间戳**：
   - 使用 `Date.parse(new Date())` 获取当前时间的毫秒级时间戳
   - 使用 `moment` 库将时间戳格式化为可读日期

2. **时间戳转日期**：
   - 检查输入是否为有效的数字字符串
   - 使用 `moment` 库将时间戳转换为指定格式的日期字符串

3. **日期转时间戳**：
   - 接收日期字符串和可选的时间字符串
   - 使用 `moment` 库将日期时间字符串转换为毫秒级时间戳

## 7. 依赖关系

- `moment` - 日期时间处理库
- `../common/utils` - 通用工具函数

## 8. 格式说明

### 8.1 输入格式

- **时间戳**：13位数字字符串，例如 `1609459200000`
- **日期字符串**：YYYY-MM-DD 格式，例如 `2021-01-01`
- **时间字符串**：HH:mm:ss 格式，例如 `12:00:00`

### 8.2 输出格式

- **时间戳**：13位数字，例如 `1609459200000`
- **日期格式**：YYYY-MM-DD HH:mm:ss，例如 `2021-01-01 00:00:00`
